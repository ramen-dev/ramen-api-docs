<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Ramen Developer Documentation</title>

    <link rel="shortcut icon" href="/images/favicon.png" />

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>


    <style type="text/css">
      /* Ramen customizations */
      .tocify-wrapper > img {
        width: 85%;
        padding: 18px;
      }
    </style>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo-teal.png" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='ramenjs-v2-0-api-documentation'>RamenJS v2.0 API Documentation</h1>
<p>Welcome to the Ramen Developer Documentation.</p>

<p>v2.0 of the RamenJS API introduces one big addition: support for
<em>Anonymous users</em>.</p>

<p>We will be phasing out support for <a href="/v1.html">RamenJS v1.0</a> by October 1st, 2016.
Please migrate to v2.0 by then.</p>

<!-- see ramen-api-docs/source/includes/*.md for content -->

          <h1 id='getting-started'>Getting Started</h1><h2 id='installing-ramenjs'>Installing RamenJS</h2>
<p>There are several ways to install RamenJS:</p>

<ul>
<li><a href="#javascript">Directly with JavaScript</a></li>
<li><a href="#segment-com">Segment.com</a></li>
<li><a href="#eager-io">Eager.io</a></li>
<li><a href="#ruby-on-rails-rubygem">Using our Ruby on Rails Rubygem</a></li>
</ul>
<h2 id='supported-platforms'>Supported Platforms</h2>
<p>RamenJS can be installed into <strong>any</strong> web application. Users
of Ramen include the following platforms:</p>

<ul>
<li>Ruby on Rails</li>
<li>Django</li>
<li>Angular</li>
<li>Meteor.js</li>
<li>Wordpress</li>
<li>Joomla</li>
<li>Drupal</li>
<li>PHP</li>
</ul>
<h2 id='single-page-apps-spas'>Single Page Apps (SPAs)</h2>
<p>RamenJS plays nicely with frameworks like Ember, Angular, and more.</p>

          <h1 id='installation'>Installation</h1><h2 id='javascript'>JavaScript</h2><h3 id='anonymous-visitors'>Anonymous Visitors</h3><pre class="highlight html"><span class="nt">&lt;script&gt;</span>
  <span class="o">!</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">_ramen</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">_ramen</span><span class="o">||</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">initialize</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">invoked</span><span class="p">)</span><span class="k">return</span> <span class="k">void</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">console</span><span class="o">&amp;&amp;</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="o">&amp;&amp;</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Ramen snippet included twice."</span><span class="p">));</span><span class="nx">e</span><span class="p">.</span><span class="nx">invoked</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"boot"</span><span class="p">,</span><span class="s2">"ready"</span><span class="p">,</span><span class="s2">"identify"</span><span class="p">,</span><span class="s2">"group"</span><span class="p">,</span><span class="s2">"track"</span><span class="p">,</span><span class="s2">"page"</span><span class="p">,</span><span class="s2">"reset"</span><span class="p">,</span><span class="s2">"ask"</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">factory</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">}};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">methods</span><span class="p">[</span><span class="nx">r</span><span class="p">];</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="nx">t</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">n</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">async</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.ramen.is/assets/ramen.js"</span><span class="p">;</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"script"</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">o</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">)}}();</span>

  <span class="nx">_ramen</span><span class="p">.</span><span class="nx">boot</span><span class="p">(</span><span class="s1">'YOUR_ORGANIZATION_ID'</span><span class="p">);</span>
  <span class="nx">_ramen</span><span class="p">.</span><span class="nx">identify</span><span class="p">()</span>
<span class="nt">&lt;/script&gt;</span>
</pre>

<p>You can install RamenJS in seconds by just copy/pasting code onto
any page where you want to be able to ask questions with Ramen.</p>

<p>New with v2.0 is our support for anonymous visitors. Prior to
v2.0, the RamenJS JavaScript snippet would need to be edited
by a developer in order to get all the information into our system,
but now you can just copy/paste a static snippet to get started.</p>
<h3 id='logged-in-users'>Logged-in users</h3>
<p>To track logged-in users, you&rsquo;ll need to pass RamenJS
some information about that user. You&rsquo;ll need to pass
a unique ID, and optionally include their name and email.</p>
<pre class="highlight html"><span class="nt">&lt;script&gt;</span>
  <span class="o">!</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">_ramen</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">_ramen</span><span class="o">||</span><span class="p">[];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">initialize</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">invoked</span><span class="p">)</span><span class="k">return</span> <span class="k">void</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">console</span><span class="o">&amp;&amp;</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="o">&amp;&amp;</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Ramen snippet included twice."</span><span class="p">));</span><span class="nx">e</span><span class="p">.</span><span class="nx">invoked</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">methods</span><span class="o">=</span><span class="p">[</span><span class="s2">"boot"</span><span class="p">,</span><span class="s2">"ready"</span><span class="p">,</span><span class="s2">"identify"</span><span class="p">,</span><span class="s2">"group"</span><span class="p">,</span><span class="s2">"track"</span><span class="p">,</span><span class="s2">"page"</span><span class="p">,</span><span class="s2">"reset"</span><span class="p">,</span><span class="s2">"ask"</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">factory</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">}};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">methods</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">methods</span><span class="p">[</span><span class="nx">r</span><span class="p">];</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="nx">t</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="nx">n</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">async</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="s2">"https://cdn.ramen.is/assets/ramen.js"</span><span class="p">;</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"script"</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">o</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">)}}();</span>

  <span class="nx">_ramen</span><span class="p">.</span><span class="nx">boot</span><span class="p">(</span><span class="s1">'YOUR_ORGANIZATION_ID'</span><span class="p">);</span>

  <span class="c1">// To identify logged in users, you'll need to have a
</span>  <span class="c1">// developer take a look at everything below this line
</span>  <span class="nx">_ramen</span><span class="p">.</span><span class="nx">identify</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="s2">"REPLACE_ME-12345"</span><span class="p">,</span> <span class="c1">// Replace with a unique user ID. Could be their email
</span>    <span class="na">email</span><span class="p">:</span> <span class="s2">"REPLACE_ME-customer@example.com"</span><span class="p">,</span> <span class="c1">// Replace with their email address
</span>    <span class="na">name</span><span class="p">:</span> <span class="s2">"REPLACE_ME-Bugs Bunny"</span> <span class="c1">// Replace with their name
</span>  <span class="p">});</span>

  <span class="c1">// Check out our options at http://docs.ramen.is/
</span><span class="nt">&lt;/script&gt;</span>
</pre>
<h2 id='segment-com'>Segment.com</h2>
<p><a href="https://segment.com/?utm_source=partners&amp;utm_medium=docs&amp;utm_campaign=ramen.is">Segment.com</a>
is a &ldquo;customer data hub&rdquo;. If you already are
a Segment customer, you can install Ramen in just
a few clicks without needing
to write any code or deploy any changes to your application.</p>

<p>RamenJS supports the following Segment methods:</p>

<ul>
<li><code class="prettyprint">identify</code></li>
<li><code class="prettyprint">group</code></li>
<li><code class="prettyprint">track</code> </li>
<li><code class="prettyprint">page</code></li>
</ul>
<h3 id='installation-methods'>Installation methods</h3>
<p>Click the &lsquo;Install via Segment&rsquo; button on the <em>Getting Started</em> page of your
Ramen Organization.</p>

<p>Wait a couple minutes, and then head over to your application and
navigate to a page where Segment&rsquo;s <code class="prettyprint">analytics.js</code> is installed.
After refreshing the page a few times, refresh your <em>Getting Started</em> page and you
should see that RamenJS is sending data to Ramen.</p>

<p>You can read more about the Ramen/Segment integration on by
<a href="https://segment.com/docs/integrations/ramen/">clicking here</a>.</p>
<h3 id='learn-more-about-segment-com'>Learn More About Segment.com</h3>
<p>To learn more about Segment, <a href="https://segment.com/?utm_source=partners&amp;utm_medium=docs&amp;utm_campaign=ramen.is">click here</a></p>
<h2 id='eager-io'>Eager.io</h2>
<p><a href="https://eager.io/app/ramen?utm_source=partners&amp;utm_medium=docs&amp;utm_campaign=ramen.is">Eager.io</a>
lets you install JavaScript libraries at the touch
of a button. If you are already using Eager, you can install Ramen in just a few clicks without needing
to write any code or deploy any changes to your application.</p>
<h3 id='installation-methods'>Installation methods</h3>
<p>Click the &lsquo;Install via Eager&rsquo; button on the <em>Getting Started</em> page of your
Ramen Organization.</p>

<p>Wait a couple minutes, and then head over to your application and
navigate to a page where Eager is loaded.
After refreshing the page a few times, refresh your <em>Getting Started</em> page and you
should see that RamenJS is sending data to Ramen.</p>
<h3 id='learn-more-about-eager-io'>Learn More About Eager.io</h3>
<p>To learn more about Eager, <a href="https://eager.io/?utm_source=partners&amp;utm_medium=docs&amp;utm_campaign=ramen.is">click here</a></p>
<h2 id='ruby-on-rails-rubygem'>Ruby on Rails Rubygem</h2>
<p>Ramen maintains an official Rubygem for Ruby on Rails applications. The Rubygem is used on Ramen.is itself.</p>

<p><a href="https://rubygems.org/gems/ramen-rails">View the Rubygem</a></p>
<h2 id='wordpress'>Wordpress</h2>
<p>Thanks to our integration with Eager, installing RamenJS on Wordpress is a breeze.</p>
<h3 id='installation-methods'>Installation methods</h3>
<p>Click the &lsquo;Install via Eager&rsquo; button on the <em>Getting Started</em> page of your
Ramen Organization.</p>

<p>When you are prompted, download and install the Wordpress plugin from Eager.</p>

<p>Wait a couple minutes, and then head over to your application and
navigate to a page where Eager is loaded.
After refreshing the page a few times, refresh your <em>Getting Started</em> page and you
should see that RamenJS is sending data to Ramen.</p>
<h2 id='drupal'>Drupal</h2>
<p>Thanks to our integration with Eager, installing RamenJS on Drupal is a breeze.</p>
<h3 id='installation-methods'>Installation methods</h3>
<p>Click the &lsquo;Install via Eager&rsquo; button on the <em>Getting Started</em> page of your
Ramen Organization.</p>

<p>When you are prompted, download and install the Drupal plugin from Eager.</p>

<p>Wait a couple minutes, and then head over to your application and
navigate to a page where Eager is loaded.
After refreshing the page a few times, refresh your <em>Getting Started</em> page and you
should see that RamenJS is sending data to Ramen.</p>
<h2 id='joomla'>Joomla</h2>
<p>Thanks to our integration with Eager, installing RamenJS on Joomla is a breeze.</p>
<h3 id='installation-methods'>Installation methods</h3>
<p>Click the &lsquo;Install via Eager&rsquo; button on the <em>Getting Started</em> page of your
Ramen Organization.</p>

<p>When you are prompted, download and install the Joomla plugin from Eager.</p>

<p>Wait a couple minutes, and then head over to your application and
navigate to a page where Eager is loaded.
After refreshing the page a few times, refresh your <em>Getting Started</em> page and you
should see that RamenJS is sending data to Ramen.</p>
<h2 id='angular'>Angular</h2>
<p>While there is no official library for Angular, we do have an
<a href="https://github.com/ramen-dev/angular-seed/tree/ramenjs-v2.0">Example App</a></p>

<p>Pay close attention to the comments on the commits to see what
is going on: <a href="https://github.com/ramen-dev/angular-seed/commits/master">Commits</a></p>

          <h1 id='ramenjs-api'>RamenJS API</h1><h2 id='code-classprettyprint_ramen-bootcode'><code class="prettyprint">_ramen.boot()</code></h2><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">boot</span><span class="p">(</span><span class="s2">"09889723985786254"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">custom_bug_image_url</span><span class="p">:</span> <span class="s2">"https://thecatapi.com/api/images/get?format=src"</span>
<span class="p">});</span>
</pre>

<p>This is the first method called. It takes two arguments:</p>

<ul>
<li><code class="prettyprint">organization_id</code>: String, required</li>
<li><code class="prettyprint">options</code>: Object, optional</li>
</ul>

<p><code class="prettyprint">organization_id</code> uniquely identifies your Ramen account. It can be found on the
Getting Started page.</p>

<p><code class="prettyprint">options</code> is where you can pass in configuration options:</p>
<h3 id='customization-options'>Customization Options</h3>
<ul>
<li><code class="prettyprint">custom_bug_image_url</code>: See <a href="#customization">Customization</a></li>
</ul>
<h3 id='product-center-options'>Product Center Options</h3>
<ul>
<li><code class="prettyprint">custom_trigger_id</code>: See <a href="#product-center">Product Center</a></li>
<li><code class="prettyprint">custom_trigger_class</code>: See <a href="#product-center">Product Center</a></li>
<li><code class="prettyprint">custom_links</code>: See <a href="#product-center">Product Center</a></li>
</ul>
<h2 id='code-classprettyprint_ramen-readycode'><code class="prettyprint">_ramen.ready()</code></h2><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">all_your_amazing_logic</span><span class="p">();</span>
<span class="p">});</span>
</pre>

<p>Before RamenJS finishes booting, this method takes a
function and pushes it onto a queue.
It can be called multiple times. Once RamenJS is booted,
these callbacks will be called in the order they were pushed onto the queue.</p>

<p>After RamenJS finishes booting, subsequent calls to <code class="prettyprint">_ramen.ready()</code> will
result in the function being executed immediately.</p>
<h2 id='code-classprettyprint_ramen-identifycode'><code class="prettyprint">_ramen.identify()</code></h2>
<p>This method identifies a visitor. It <strong>must</strong> be called before RamenJS
will ask any questions.</p>

<p>There are three ways to call <code class="prettyprint">_ramen.identify()</code></p>
<h3 id='1--anonymous-visitor'>1. Anonymous Visitor</h3><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">identify</span><span class="p">();</span>
</pre>

<p>This will identify an anonymous visitor. The visitor will be tagged as such
in Ramen, and you will be able to target questions to anonymous visitors.</p>

<p>You can still identify Anonymous visitors even if you have <a href="#secure-mode">Secure Mode</a>
enabled.</p>
<h3 id='2--logged-in-user'>2. Logged-in User</h3><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">identify</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="s2">"12345"</span><span class="p">,</span> <span class="c1">// Required
</span>  <span class="na">email</span><span class="p">:</span> <span class="s2">"customer@yoursite.com"</span><span class="p">,</span> <span class="c1">// Optional
</span>  <span class="na">name</span><span class="p">:</span> <span class="s2">"Bugs Bunny"</span> <span class="c1">// Optional
</span><span class="p">});</span>
</pre>

<p>This will identify a logged-in user. The user will be recorded in Ramen.</p>
<h3 id='3--logged-in-user-w-secure-mode'>3. Logged-in User w/ Secure Mode</h3><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">identify</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="s2">"12345"</span><span class="p">,</span>                    <span class="c1">// Required
</span>  <span class="na">email</span><span class="p">:</span> <span class="s2">"customer@yoursite.com"</span><span class="p">,</span> <span class="c1">// Optional
</span>  <span class="na">name</span><span class="p">:</span> <span class="s2">"Bugs Bunny"</span><span class="p">,</span>             <span class="c1">// Optional
</span>  <span class="na">traits</span><span class="p">:</span> <span class="nx">user_traits</span>             <span class="c1">// See Custom Traits
</span><span class="p">},</span> <span class="p">{</span>
  <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1234567890</span><span class="p">,</span>          <span class="c1">// Required
</span>  <span class="na">auth_hash</span><span class="p">:</span> <span class="s1">'CALCULATED_HASH'</span>    <span class="c1">// Required
</span><span class="p">});</span>
</pre>

<p>This will identify a logged-in user in Secure Mode. The user will be recorded in Ramen.</p>

<p>See <a href="#secure-mode">Secure Mode</a> for more information.</p>
<h2 id='code-classprettyprint_ramen-groupcode'><code class="prettyprint">_ramen.group()</code></h2><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">group</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="s2">"1234567890"</span><span class="p">,</span>             <span class="c1">// Required
</span>  <span class="na">name</span><span class="p">:</span> <span class="s2">"Customer, Inc."</span><span class="p">,</span>       <span class="c1">// Required
</span>  <span class="na">url</span><span class="p">:</span> <span class="s2">"https://customer.com"</span>   <span class="c1">// Optional
</span>  <span class="na">traits</span><span class="p">:</span> <span class="nx">company_traits</span>        <span class="c1">// See Custom Traits
</span><span class="p">});</span>
</pre>

<p>This will assign an <code class="prettyprint">identify</code>&rsquo;d user to a &ldquo;Company&rdquo; inside of Ramen.</p>
<h3 id='secure-mode'>Secure Mode</h3>
<p>Even with Secure Mode enabled, you do not need to pass an additional
object to <code class="prettyprint">_ramen.group()</code> with the <code class="prettyprint">auth_hash</code>.</p>
<h2 id='code-classprettyprint_ramen-trackcode'><code class="prettyprint">_ramen.track()</code></h2><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">track</span><span class="p">(</span><span class="s1">'Logged-in pageview'</span><span class="p">);</span>
</pre>

<p>This will track a named event that can be used to target a question.
You can, for example, target questions at Logged-in Users that have
been customers for under 1 day with more than 100 Logged-in pageviews.</p>

<p>You cannot pass any other options to <code class="prettyprint">_ramen.track()</code>.</p>
<h2 id='code-classprettyprint_ramen-askcode'><code class="prettyprint">_ramen.ask()</code></h2><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="s2">"QUESTION_ID"</span><span class="p">);</span>
</pre>

<p>This will trigger a question to be asked of the currently
<code class="prettyprint">identify</code>&rsquo;d user, but ONLY if they have not already been asked
that question.</p>
<h3 id='force-ask'>Force ask</h3><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">ask</span><span class="p">(</span><span class="s2">"QUESTION_ID"</span><span class="p">,</span> <span class="p">{</span><span class="na">force</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>
</pre>

<p>This will force a question to be asked regardless of whether or
not the currently <code class="prettyprint">identify</code>&rsquo;d user has already been asked this
question. This can be handy for certain workflow questions
(eg. &ldquo;Why are you canceling your account?&rdquo;).</p>
<h2 id='code-classprettyprint_ramen-pagecode'><code class="prettyprint">_ramen.page()</code></h2><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">page</span><span class="p">();</span>
</pre>

<p>This records a pageview. You cannot pass it any arguments. It will
look at the current value of <code class="prettyprint">window.location</code>, pass that value to
Ramen, and check to see if the user is eligible to be asked a question.</p>
<h2 id='code-classprettyprint_ramen-resetcode'><code class="prettyprint">_ramen.reset()</code></h2><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
</pre>

<p>This will clear the current user. Useful to use when a user logs out
of your application. Otherwise, they may keep getting asked questions
even after they&rsquo;re logged out.</p>

          <h1 id='custom-traits'>Custom Traits</h1><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">identify</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="s2">"42"</span><span class="p">,</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"Bugs Bunny"</span><span class="p">,</span>
  <span class="na">traits</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">likes_carrots</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">ate_carrot_at</span><span class="p">:</span> <span class="mi">1234567890</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">_ramen</span><span class="p">.</span><span class="nx">group</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="s2">"421"</span><span class="p">,</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"ACME, Inc."</span><span class="p">,</span>
  <span class="na">traits</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">employs_coyotes</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">ran_into_wall_at</span><span class="p">:</span> <span class="mi">1234567890</span>
  <span class="p">}</span>
<span class="p">});</span>

</pre>

<p>Both Customers and Companies can have &ldquo;Traits&rdquo;
assigned to them. Traits are key/value pairs
that can be used for Audience creation:</p>

<p><img alt="Traits can be used to create Audiences" src="https://dl.dropboxusercontent.com/spa/c8k9520tqhih2dg/3mz-cobc.png" /></p>
<h2 id='names'>Names</h2>
<p>Trait names are strings that can contain any letter,
any number, underscores (<code class="prettyprint">_</code>) and dashes (<code class="prettyprint">-</code>).
Trait names are case-sensitive.</p>
<h2 id='types'>Types</h2>
<p>Trait values can be the following types:</p>

<ul>
<li>String</li>
<li>Boolean</li>
<li>Integer</li>
<li>Float</li>
<li>Time (See below)</li>
</ul>
<h3 id='time-types'>Time types</h3>
<p>Time types are declared by ending the trait
name in <code class="prettyprint">_at</code>. For example:</p>

<ul>
<li><code class="prettyprint">last_seen_at</code></li>
<li><code class="prettyprint">upgraded_at</code></li>
</ul>

<p>You can pass in times in the following formats:</p>

<ul>
<li>Epoch seconds: <code class="prettyprint">1234567890</code></li>
<li>XML Schema: <code class="prettyprint">2009-02-13T23:31:30Z</code> (UTC) or
<code class="prettyprint">2009-02-13T16:31:30-07:00</code> (with offset)</li>
</ul>
<h2 id='type-casting'>Type Casting</h2>
<p>The first time RamenJS sees a new trait with a
non-null value,
it will record the type and cast all future traits
to that type.</p>

          <h1 id='customization'>Customization</h1><h2 id='icon'>Icon</h2><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">boot</span><span class="p">(</span><span class="s2">"kadjf89383hr89"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">bug_image_url</span><span class="p">:</span> <span class="s2">"https://thecatapi.com/api/images/get?format=src"</span>
<span class="p">});</span>
</pre>

<p>The RamenJS popups were designed to be minimal so that
they would Just Look Good™ on any webpage. The style
of the popups cannot be modified, but the icon, the
little green Ramen &lsquo;R&rsquo;, can be chanaged.</p>

          <h1 id='product-center'>Product Center</h1>
<p>Product Center is a feature that lets you discuss Features
with your Customers. Product Center is only available on
certain paid plans.</p>
<h2 id='custom-links'>Custom Links</h2><pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">boot</span><span class="p">(</span><span class="s2">"ORG_ID"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">custom_links</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">title</span><span class="p">:</span> <span class="s1">'E-mail support'</span><span class="p">,</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'mailto:support@ramen.is'</span><span class="p">,</span>
    <span class="p">},</span>

    <span class="p">{</span>
      <span class="na">title</span><span class="p">:</span> <span class="s1">'Chat with support'</span><span class="p">,</span>
      <span class="na">callback</span><span class="p">:</span> <span class="s1">'Interom("showNewMessage")'</span>
      <span class="c1">// ^ Not a typo :) If you want to use
</span>      <span class="c1">// Intercom w/ Ramen, this is one way
</span>      <span class="c1">// to do that.
</span>    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">});</span>
</pre>

<p>We provide a way for you to customize links that
appear at the bottom of Product Center.</p>

<p>Custom Links have a <code class="prettyprint">title</code> property and either an
<code class="prettyprint">href</code> or a <code class="prettyprint">callback</code> property. <code class="prettyprint">href</code>s
must be full URIs (including protocol, ie. https).
<code class="prettyprint">callback</code>s can be JavaScript closures
or strings that will be <code class="prettyprint">eval</code>&rsquo;d</p>

<p>You are allowed to provide up to 3 Custom Links.</p>
<h2 id='placement'>Placement</h2><pre class="highlight html"><span class="nt">&lt;nav&gt;</span>
<span class="nt">&lt;ul&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/account"</span><span class="nt">&gt;</span>Your Account<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/product-center"</span> <span class="na">class=</span><span class="s">"custom-ramen-trigger"</span><span class="nt">&gt;</span>Product Center<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/nav&gt;</span>

<span class="nt">&lt;style&gt;</span>
<span class="nc">._r-badge</span><span class="nd">:after</span> <span class="p">{</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">-5px</span><span class="p">;</span>
  <span class="nl">right</span><span class="p">:</span> <span class="m">-5px</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
  <span class="nl">-webkit-border-radius</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">-moz-border-radius</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">100px</span><span class="p">;</span>
  <span class="nl">content</span><span class="p">:</span> <span class="s1">" "</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">18px</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">18px</span><span class="p">;</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span>
  <span class="nl">line-height</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span> 
<span class="p">}</span>

<span class="nc">._r-related</span> <span class="p">{</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
</pre>
<pre class="highlight javascript"><span class="nx">_ramen</span><span class="p">.</span><span class="nx">boot</span><span class="p">(</span><span class="s2">"ORG_ID"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">custom_trigger_class</span><span class="p">:</span> <span class="s2">"custom-ramen-trigger"</span>
<span class="p">});</span>
</pre>

<p>You can set a custom placement, called a &lsquo;trigger&rsquo;
for the RamenJS widget so that instead of showing the
icon in the bottom right or left corner of the screen,
a link in your nav can be used to trigger opening
Product Center.</p>
<h3 id='styling-the-custom-trigger'>Styling the Custom Trigger</h3>
<p>We apply different styles to the RamenJS widget:</p>

<ol>
<li>When there is a Feature related to the current URL, the widget icon will be full color.</li>
<li>When there are no related features, a grayscale image is used instead.</li>
<li>When there are newly deployed features, a circular red badge is placed over the top right corner of the icon.</li>
</ol>

<p>When using a customer trigger, we do not attempt to modify the style to reflect state changes.
Instead, we will add classes to the element. It will be up to you to style the elements.</p>

<ul>
<li><code class="prettyprint">_r-related</code>: We will add this class when there are Features related to the current URL</li>
<li><code class="prettyprint">_r-badge</code>: We will add this class when there are newly deployed features that have not yet been seen by your customers.</li>
</ul>

          <h1 id='secure-mode'>Secure Mode</h1><pre class="highlight html"><span class="nt">&lt;script&gt;</span>
  <span class="nx">_ramen</span><span class="p">.</span><span class="nx">identify</span><span class="p">({</span>
    <span class="na">email</span><span class="p">:</span> <span class="s1">'ryan@ramen.is'</span><span class="p">,</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="s1">'Ryan Angilly'</span>
  <span class="p">},</span> <span class="p">{</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1234567890</span><span class="p">,</span>
    <span class="na">auth_hash</span><span class="p">:</span> <span class="s1">'09cc0a69233f1bf41e68ed00b9256fde5a4542e9fdba635fe2a9a4edf9ee1ba1'</span>
  <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre>

<p>Secure Mode ensures that nobody can spoof being one
of your customers. It is disabled by default, because
it takes a little extra developer time to setup
correctly.</p>

<p>To enable secure mode, you need to add another argument
to your <code class="prettyprint">_ramen.identify()</code> call. This argument
is an object with the following attributes:</p>

<ul>
<li><code class="prettyprint">timestamp</code>: The current time in epoch seconds</li>
<li><code class="prettyprint">auth_hash</code>: A SHA-256 hash</li>
</ul>
<h3 id='timestamp'>Timestamp</h3><pre class="highlight ruby"><span class="n">ts</span> <span class="o">=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">now</span><span class="p">.</span><span class="nf">to_i</span>
</pre>
<pre class="highlight javascript"><span class="nx">ts</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">())</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
</pre>

<p>The <code class="prettyprint">timestamp</code> attribute must be a time within the last
15 minutes.</p>
<h3 id='calculating-code-classprettyprintauth_hashcode'>Calculating <code class="prettyprint">auth_hash</code></h3><pre class="highlight ruby"><span class="n">array</span> <span class="o">=</span> <span class="o">[]</span>
<span class="n">array</span> <span class="o">&lt;&lt;</span> <span class="s2">"ryan@ramen.is"</span>
<span class="n">array</span> <span class="o">&lt;&lt;</span> <span class="mi">42</span>
<span class="n">array</span> <span class="o">&lt;&lt;</span> <span class="s2">"Ryan Angilly"</span>
<span class="n">array</span> <span class="o">&lt;&lt;</span> <span class="mi">1234567890</span>
<span class="n">array</span> <span class="o">&lt;&lt;</span> <span class="s2">"oihs9uhasdg8934y8"</span>
<span class="n">str</span> <span class="o">=</span> <span class="n">array</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s2">":"</span><span class="p">)</span>
<span class="n">digest</span> <span class="o">=</span> <span class="p">(</span><span class="no">Digest</span><span class="o">::</span><span class="no">SHA256</span><span class="p">.</span><span class="nf">new</span> <span class="o">&lt;&lt;</span> <span class="n">str</span><span class="p">).</span><span class="nf">to_s</span>
<span class="n">digest</span> <span class="c1">#=&gt; "09cc0a69233f1bf41e68ed00b9256fde5a4542e9fdba635fe2a9a4edf9ee1ba1"</span>
</pre>

<p>The hash is calculated as follows:</p>

<ol>
<li><p>Create an array with the following elements:</p>

<ul>
<li><code class="prettyprint">email</code>: eg. <code class="prettyprint">&quot;ryan@ramen.is&quot;</code></li>
<li><code class="prettyprint">id</code>: eg. <code class="prettyprint">42</code></li>
<li><code class="prettyprint">name</code>: eg. <code class="prettyprint">Ryan Angilly</code></li>
<li><code class="prettyprint">timestamp</code>: eg. <code class="prettyprint">1234567890</code></li>
<li><code class="prettyprint">ORGANIZATION_SECRET_KEY</code>:  eg. <code class="prettyprint">oihs9uhasdg8934y8</code></li>
</ul></li>
<li><p>Your array now looks like this:
<code class="prettyprint">[&quot;ryan@ramen.is&quot;, 42, &quot;Ryan Angilly&quot;, 1234567890, &quot;oihs9uhasdg8934y8&quot;</code></p></li>
<li><p>Join the elements of that array together with a
colon (<code class="prettyprint">:</code>) into a string</p></li>
<li><p>Your string is now: <code class="prettyprint">&quot;ryan@ramen.is:42:Ryan Angilly:1234567890:oihs9uhasdg8934y8&quot;</code></p></li>
<li><p>Generate a SHA256 hash from that string</p></li>
<li><p>The SHA256 hash for the string in step 4 is:
<code class="prettyprint">09cc0a69233f1bf41e68ed00b9256fde5a4542e9fdba635fe2a9a4edf9ee1ba1</code></p></li>
</ol>

          <h1 id='credits'>Credits</h1>
<p>Weston Platter did a ton of work getting this site up.
<a href="https://twitter.com/home?status=Hey%20%40westonplatter%20you%20rock%20for%20your%20work%20on%20http%3A//docs.ramen.is!%20Here's%20a%20cat%20gif%20https%3A//thecatapi.com/api/images/get?format=src%26type=gif">Tweet him a cat pic</a></p>
<h1 id='a-cat-gif'>A Cat Gif</h1>
<p>Here is a cat gif:</p>

<p><img alt="Catz" src="https://thecatapi.com/api/images/get?format=src&amp;type=gif" /></p>
<h2 id=''></h2>
<p>Copyright Ramen, Inc. 2012 - 2016</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
